# Maintainer: Liam <arch@networkimprov.net>

pkgname="mwifiex-p2p"
pkgver=1.2
pkgrel=2
pkgdesc="WiFi P2P config for mwifiex driver"
arch=("any")
url="https://github.com/networkimprov/arch-packages"
license=("none")
depends=('wpa_supplicant'
         'udhcp'
         'iw')
source=('mwifiex-p2p_wpa.service'
        'wpa_supplicant-p2p0.conf'
        'mwifiex-p2p_dhcp.service'
        'udhcpd-p2p0.conf'
        '70-mwifiex-p2p.rules'
        'mwifiex-debug.sh')
md5sums=(SKIP
         SKIP
         SKIP
         SKIP
         SKIP
         '95251671b360fe9db435e2b7b524ab30')

package() {
  install -Dm 644 mwifiex-p2p_wpa.service -t "${pkgdir}/usr/lib/systemd/system/"

  install -Dm 644 wpa_supplicant-p2p0.conf -t "${pkgdir}/etc/wpa_supplicant/"

  install -Dm 644 mwifiex-p2p_dhcp.service -t "${pkgdir}/usr/lib/systemd/system/"

  install -Dm 644 udhcpd-p2p0.conf -t "${pkgdir}/etc/"

  install -Dm 644 70-mwifiex-p2p.rules -t "${pkgdir}/usr/lib/udev/rules.d/"

  install -Dm 755 mwifiex-debug.sh -t "${pkgdir}/usr/bin/"
}

